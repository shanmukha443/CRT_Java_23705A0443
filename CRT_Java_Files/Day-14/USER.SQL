CREATE TABLE USER(
    ID INT PRIMARY KEY AUTO_INCREMENT,
    NAME VARCHAR(20) NOT NULL,
    CITY VARCHAR(30) NOT NULL,
    PHONE VARCHAR(10) NOT NULL,
    EMAIL VARCHAR(50) NOT NULL 
);
INSERT INTO USER(NAME,EMAIL,CITY,PHONE) VALUES("SHAM","SHAM@21","BALLARI","233223232");
INSERT INTO USER(NAME,EMAIL,CITY,PHONE) VALUES("VARRSHIK","VAAR@21","TIRUPATHI","233223232");
INSERT INTO USER(NAME,EMAIL,CITY,PHONE) VALUES("THANUSH","THANU@21","ANANTHAPUR","233223232");
INSERT INTO USER(NAME,EMAIL,CITY,PHONE) VALUES("UDAY","UDAY@21","KADAPA","233223232");
INSERT INTO USER(NAME,EMAIL,CITY,PHONE) VALUES("MANI","MANI@21","KURNOOL","233223232");

CREATE TABLE PRODUCT(
    ID INT PRIMARY KEY AUTO_INCREMENT,
    PRODUCTNAME VARCHAR(30) NOT NULL,
    PRICE INT(10) NOT NULL,
    STOCK INT NOT NULL
);
INSERT INTO PRODUCT(PRODUCTNAME,PRICE,STOCK) VALUES("PANNER",90,34);
INSERT INTO PRODUCT(PRODUCTNAME,PRICE,STOCK) VALUES("NOODLES",10,34);
INSERT INTO PRODUCT(PRODUCTNAME,PRICE,STOCK) VALUES("EGGS",8,34);
INSERT INTO PRODUCT(PRODUCTNAME,PRICE,STOCK) VALUES("CUCUMBER",50,34);

CREATE TABLE ORDER(
    ID INT PRIMARY KEY AUTO_INCREMENT,
    USER_ID INT NOT NULL,
    PRICE INT NOT NULL,
    ORDER_DATE DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (USER_ID) REFERENCES USER(ID)
);
INSERT INTO ORDER(USER_ID) VALUES(1);
INSERT INTO ORDER(USER_ID) VALUES(2);
INSERT INTO ORDER(USER_ID) VALUES(3);
INSERT INTO ORDER(USER_ID) VALUES(4);

CREATE TABLE ORDERDETAILS(
    ORDER_ID INT NOT NULL,
    QUANTITY INT NOT NULL,
    PRODUCT_ID INT NOT NULL,
    FOREIGN KEY(ORDER_ID) REFERENCES ORDER(ID),
    FOREIGN KEY (PRODUCT_ID) REFERENCES PRODUCT(ID),
    PRIMARY KEY (ORDER_ID,PRODUCT_ID)

);

INSERT INTO ORDERDETAILS VALUES(1,2,2);
INSERT INTO ORDERDETAILS VALUES(1,2,3);
INSERT INTO ORDERDETAILS VALUES(2,2,2);
INSERT INTO ORDERDETAILS VALUES(3,2,3);
INSERT INTO ORDERDETAILS VALUES(4,2,2);

SELECT * FROM USER;
SELECT * FROM PRODUCT;
SELECT * FROM ORDER;
SELECT * FROM ORDERDETAILS;

-- DIFFFERENT DATA ACCESSS USING SELECT 
SELECT * FROM USER WHERE PHONE LIKE "2%";
SELECT * FROM USER WHERE NAME LIKE "T%";
--AGRIGATION FUNCTIONS 
SELECT DISTINCT(CITY) FROM USER;
SELECT COUNT(DISTINCT(CITY)) AS NUMBER_OF_CITIES FROM USER; 
SELECT * FROM USER GROUP BY CITY;
SELECT COUNT(*) FROM USER GROUP BY CITY;
SELECT CITY,COUNT(*) FROM USER GROUP BY CITY;

